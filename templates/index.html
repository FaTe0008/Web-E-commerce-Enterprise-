{% extends "base.html" %}

{% block content %}
<div class="hero">
    <h2>Welcome to E-Commerce Enterprise Application</h2>
    <p>Turn Clicks into Cart Full of Joy</p>
    {% if session.user_id and session.role != 'admin' %}
        <a href="{{ url_for('products') }}" class="btn">Shop Now</a>
    {% elif not session.user_id %}
        <a href="{{ url_for('register') }}" class="btn">Get Started</a>
    {% endif %}
</div>

{% if session.user_id and session.role != 'admin' %}
<div class="featured-products">
    <h3>Featured Products</h3>
    <div class="product-grid">
        {% for product in products[:4] %}
        <div class="product-card">
            <h4>{{ product.name }}</h4>
            <p class="price">${{ "%.2f"|format(product.price) }}</p>
            <p>Category: {{ product.category }}</p>
            <p>Stock: {{ product.stock }}</p>
            <form action="{{ url_for('add_to_cart', product_id=product.id) }}" method="post">
                <input type="number" name="quantity" value="1" min="1" max="{{ product.stock }}">
                <button type="submit">Add to Cart</button>
            </form>
        </div>
        {% endfor %}
    </div>
    <div class="center">
        <a href="{{ url_for('products') }}" class="btn">View All Products</a>
    </div>
{% endif %}
</div>
{% endblock %}